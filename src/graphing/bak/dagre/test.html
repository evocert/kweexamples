<!doctype html>
<html>
	<meta charset="utf-8">
	<title>Dagre D3 Renderer Demo</title>
	<script src="./js/d3/d3.v5.min.js" charset="utf-8"></script>
	<script src="./js/dagre/dagre-d3.min.js"></script>
	<script src="./js/dagre/dagre.min.js"></script>
	<style></style>
	<body>
	<script>
// Create a new directed graph 
var g = new dagre.graphlib.Graph();

// Set an object for the graph label
g.setGraph({});

// Default to assigning a new object as a label for each new edge.
g.setDefaultEdgeLabel(function() { return {}; });

// Add nodes to the graph. The first argument is the node id. The second is
// metadata about the node. In this case we're going to add labels to each of
// our nodes.
g.setNode("kspacey",    { label: "Kevin Spacey",  width: 144, height: 100 });
g.setNode("swilliams",  { label: "Saul Williams", width: 160, height: 100 });
g.setNode("bpitt",      { label: "Brad Pitt",     width: 108, height: 100 });
g.setNode("hford",      { label: "Harrison Ford", width: 168, height: 100 });
g.setNode("lwilson",    { label: "Luke Wilson",   width: 144, height: 100 });
g.setNode("kbacon",     { label: "Kevin Bacon",   width: 121, height: 100 });

// Add edges to the graph.
g.setEdge("kspacey",   "swilliams");
g.setEdge("swilliams", "kbacon");
g.setEdge("bpitt",     "kbacon");
g.setEdge("hford",     "lwilson");
g.setEdge("lwilson",   "kbacon");

//create layout
dagre.layout(g,{
	graph:{
		rankdir:"TB",
		align:"UL",
		nodesep:50,
		edgesep:10,
		ranksep:50,
		marginx:0,
		marginy:0,
		acyclicer:undefined,
		ranker:"network-simplex"
	},
	node:{
		width:0,
		height:0,
	},
	edge:{
		minlen:1,
		weight:1,
		width:0,
		height:0,
		labelpos:"r",
		labeloffset:36,
	}
}/*optional*/);

//travers
g.nodes().forEach(function(v) {
	console.log("Node " + v + ": " + JSON.stringify(g.node(v)));
});
g.edges().forEach(function(e) {
	console.log("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(g.edge(e)));
});
	</script>
	</body>
</html>
